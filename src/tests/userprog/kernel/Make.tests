# -*- makefile -*-

# Test names.
tests/userprog/kernel_TESTS = $(addprefix tests/userprog/kernel/,              \
fp-kasm fp-kinit                                                               \
priority-donate-sema-2)

# Sources for tests.
tests/userprog/kernel_SRC  = tests/userprog/kernel/tests.c
tests/userprog/kernel_SRC += tests/userprog/kernel/fp-kasm.c
tests/userprog/kernel_SRC += tests/userprog/kernel/fp-kinit.c
tests/userprog/kernel_SRC += tests/userprog/kernel/priority-donate-sema-2.c

SCHED_PRIO_TESTS  = $(filter tests/userprog/kernel/priority-%,$(tests/userprog/kernel_TESTS))

$(foreach TEST,$(SCHED_PRIO_TESTS), \
          $(eval $(TEST)_KERNELARGS = -sched=prio))

tests/userprog/kernel/%.output: RUNCMD = rukt

# -*- makefile -*-
